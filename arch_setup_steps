Setting up a new arch vm - total time: approx 2 hours (should be less with this handy list)


-Run basic first steps from installation guide

    -encryption - LVM on Luks - see forked repo for more detail about pvsetup,
    lvsetup, etc
        - crypttab - not used for this scheme
        - fstab: 
            root partition: /dev/mapper/*crypt_drive_name*/*crypt_partition_name*
            boot partition: UUID of partition
            swap partition: UUID of encrypted swap partition
            make /tmp a ramdisk
            - tmpfs /tmp tmpfs defaults,noatime,mode=1777   0   0
        - mkinitcpio.conf:
            HOOKS="base systemd udev autodetect keyboard sd-vconsole modconf block sd-encrypt sd-lvm2 resume filesystems"

    -Sort mirrors:  (moves all US mirrors to bottom)
      vim /etc/pacman.d/mirrorlist
      :g/## United States/+1m$
      delete others
      
    -Install pacstrap 
      Also install: base-devel, vim, git, zsh, elinks, terminator, acpi, tmux,
      firefox, xdg-utils, reflector
        -if doing on physical machine, also get wireless network pkgs?
        - xdg-utils provides xdg-open, which is needed for fugitive/rhubarb's
          Gbrowse, which is github integration
        - reflector allows easy sorting of best mirrors


    -...follow rest of instructs

=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#

  After reboot:
  
  install tlp:
    pacman -S tlp tlp-rdw
    (thinkpads require couple more; check linerunner.de/tlp/docs for more)

    systemctl enable tlp.service
    systemctl enable tlp-sleep.service

    systemctl enable NetworkManager-dispatcher.service
    systemctl mask systemd-rfkill.service

    (to kill bluetooth)
    "permanent" - disable in bios
    temporarily - rfkill block bluetooth
        -alternative: systemctl disable bluetooth.service (systemctl start...)

  Create user, set passwd
    useradd -m -G wheel -s /bin/bash archie   (note default shell and name)

  Add sudo privs - 
    export VISUAL=vim
    visudo

  Connect to network (wired):
    ip link #gets interface name if different from below
    systemctl start dhcpcd@enps03
    systemctl enable dhcpcd@enps03

  On t_server:
    ip link # get interface name
    cp /etc/netctl/example/ethernet-dhcp /etc/netctl/INTERFACE-ethernet-dhcp
    #edit profile so that interface name matches
    chmod 600 INTERFACE-ethernet-dhcp
    sudo netctl start INTERFACE-ethernet-dhcp
    sudo netctl enable INTERFACE-ethernet-dhcp

  For vbox VMs, install guest additions:
    pacman -S virtualbox-guest-utils   

  Install graphical env:
    pacman -S xorg-server xorg-server-utils (utils maybe not)
    pacman -S xfce4 mousepad xfce4-battery-plugin    #mousepad is simple text editor, add batt icon manually
    pacman -S xfce4-power-manager light-locker xscreensaver   # for screen locking, enable manually
    pacman -S xf86-video-intel
    -from AUR - redshift-minimal (without geo dependency; redhshift-gtk
    manually)
    
  Reboot

  startx, if so desired
  
  configure xfce4
    -shortcuts for launch terminal, launch web browser, window snapping, 
    -launcher icons for web and terminal (in preferred applications menu)
    - 
  
  configure firefox - plugins and privacy settings
    privacy_badger
    noscript
    ab
    https everywhere
    add_to_search_bar (add duckduckgo.com/html)
    vimfx, // vimperator - stopped working
        -vimperator settings:
            -set defsearch=ddg
            -nnroremap ; :
    Dark background and light text add-on (only working night mode plugin)

    (alternates - qutebrowser, dillo, elinks)

    if using thunderbird:
        extensions: 
            lightning (calendar) - now integrated i think
            manually sort folders (to rearrange accts)
            send later (specify time to send email)

  clone this repo, run bash mk_sym_links
    -if only needing vimrc, or other single file (not whole repo) use curl:
    - curl 'https://raw.githubuesrcontent.com/koreymacdougall/config_files/master/.vimrc' > .vimrc
  
  set default shell to zsh chsh -s /usr/bin/zsh
  setup oh-my-zsh
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
    change .zshrc theme to jonathan/agnoster/bloodred
  install powerline fonts
    git clone https://github.com/powerline/fonts.git
    cd fonts
    ./install.sh
    cd ..
    rm -rf fonts/
    (reboot to load fonts)

  done

